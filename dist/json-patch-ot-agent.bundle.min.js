var JSONPatchOTAgent=function(t){function e(r){if(i[r])return i[r].exports;var o=i[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,i){var r=i(2),o=i(1);t.exports={JSONPatchQueue:r,JSONPatchQueueSynchronous:o,__esModule:!0}},function(t,e){var i=function(t,e,i){this.waiting=[],this.versionPath=t,this.apply=e,this.purist=i};i.prototype.version=0,i.prototype.receive=function(t,e,i){var r=i||this.apply,o=e.slice(0);if(this.purist){o.shift()}var s=o.shift(),n=s.value;if(n<=this.version)throw new Error("Given version was already applied.");if(n==this.version+1)for(;o;)this.version++,r(t,o),o=this.waiting.shift();else this.waiting[n-this.version-2]=o},i.prototype.send=function(t){this.version++;var e=t.slice(0);return e.unshift({op:"replace",path:this.versionPath,value:this.version}),this.purist&&e.unshift({op:"test",path:this.versionPath,value:this.version-1}),e},i.getPropertyByJsonPointer=function(t,e){var i=e.split("/");""===i[0]&&i.shift();for(var r=t;i.length;){var o=i.shift().replace("~1","/").replace("~0","~");i.length&&(r=r[o])}return r[o]},i.prototype.reset=function(t,e){this.version=i.getPropertyByJsonPointer(e,this.versionPath),this.waiting=[];var r=[{op:"replace",path:"",value:e}];this.apply(t,r)},void 0!==typeof t&&(t.exports=i,t.exports.default=i,t.exports.__esModule=!0)},function(t,e){var i=function(t,e,i){this.waiting=[],this.localPath=t[0],this.remotePath=t[1],this.apply=e,this.purist=i};i.prototype.localVersion=0,i.prototype.remoteVersion=0,i.prototype.receive=function(t,e,i){var r=i||this.apply,o=e.slice(0);if(this.purist){o.shift()}var s=o.shift(),n=s.value;if(n<=this.remoteVersion)throw new Error("Given version was already applied.");if(n==this.remoteVersion+1)for(;o;)this.remoteVersion++,r(t,o),o=this.waiting.shift();else this.waiting[n-this.remoteVersion-2]=o},i.prototype.send=function(t){this.localVersion++;var e=t.slice(0);return this.purist?e.unshift({op:"test",path:this.localPath,value:this.localVersion-1},{op:"replace",path:this.localPath,value:this.localVersion}):e.unshift({op:"replace",path:this.localPath,value:this.localVersion}),e},i.getPropertyByJsonPointer=function(t,e){var i=e.split("/");""===i[0]&&i.shift();for(var r=t;i.length;){var o=i.shift().replace("~1","/").replace("~0","~");i.length&&(r=r[o])}return r[o]},i.prototype.reset=function(t,e){this.remoteVersion=i.getPropertyByJsonPointer(e,this.remotePath),this.waiting=[];var r=[{op:"replace",path:"",value:e}];this.apply(t,r)},void 0!==typeof t&&(t.exports=i,t.exports.default=i,t.exports.__esModule=!0)},function(t,e,i){if(void 0===r)var r=i(0).JSONPatchQueue;var o=function(t,e,i,o){r.call(this,e,i,o),this.transform=t,this.pending=[]};o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.ackLocalVersion=0,o.prototype.send=function(t){var e=t.slice(0);e.unshift({op:"test",path:this.remotePath,value:this.remoteVersion});var i=r.prototype.send.call(this,e);return this.pending.push(i),i},o.prototype.receive=function(t,e,i){var o=i||this.apply,s=this;return r.prototype.receive.call(this,t,e,function(t,e){var i=e.slice(0),r=i.shift().value,n=r-s.ackLocalVersion;s.ackLocalVersion=r,s.pending.splice(0,n),s.pending.length&&(i=s.transform(i,s.pending)),o(t,i)})},o.prototype.reset=function(t,e){this.ackLocalVersion=r.getPropertyByJsonPointer(e,this.localPath),this.pending=[],r.prototype.reset.call(this,t,e)},t.exports=o,t.exports.default=o,t.exports.__esModule=!0}]);