var JSONPatchOTAgent=function(t){function e(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,o){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,r){var o=function(t,e,r){this.waiting=[],this.localPath=t[0],this.remotePath=t[1],this.apply=e,this.purist=r};o.prototype.localVersion=0,o.prototype.remoteVersion=0,o.prototype.receive=function(t,e,r){var o=r||this.apply,i=e.slice(0);if(this.purist){i.shift()}var n=i.shift(),s=n.value;if(s<=this.remoteVersion)throw new Error("Given version was already applied.");if(s==this.remoteVersion+1)for(;i;)this.remoteVersion++,o(t,i),i=this.waiting.shift();else this.waiting[s-this.remoteVersion-2]=i},o.prototype.send=function(t){this.localVersion++;var e=t.slice(0);return this.purist?e.unshift({op:"test",path:this.localPath,value:this.localVersion-1},{op:"replace",path:this.localPath,value:this.localVersion}):e.unshift({op:"replace",path:this.localPath,value:this.localVersion}),e},o.getPropertyByJsonPointer=function(t,e){var r=e.split("/");""===r[0]&&r.shift();for(var o=t;r.length;){var i=r.shift().replace("~1","/").replace("~0","~");r.length&&(o=o[i])}return o[i]},o.prototype.reset=function(t,e){this.remoteVersion=o.getPropertyByJsonPointer(e,this.remotePath),this.waiting=[];var r=[{op:"replace",path:"",value:e}];this.apply(t,r)},t.exports=o},function(t,e,r){var o=r(0),i=function(t,e,r,i){o.call(this,e,r,i),this.transform=t,this.pending=[]};i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.ackLocalVersion=0,i.prototype.send=function(t){var e=t.slice(0);e.unshift({op:"test",path:this.remotePath,value:this.remoteVersion});var r=o.prototype.send.call(this,e);return this.pending.push(r),r},i.prototype.receive=function(t,e,r){var i=r||this.apply,n=this;return o.prototype.receive.call(this,t,e,function(t,e){var r=e.slice(0),o=r.shift().value,s=o-n.ackLocalVersion;n.ackLocalVersion=o,n.pending.splice(0,s),n.pending.length&&(r=n.transform(r,n.pending)),i(t,r)})},i.prototype.reset=function(t,e){this.ackLocalVersion=o.getPropertyByJsonPointer(e,this.localPath),this.pending=[],o.prototype.reset.call(this,t,e)},t.exports=i,t.exports.default=i}]);